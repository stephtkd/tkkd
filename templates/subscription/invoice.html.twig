{% extends 'base.html.twig' %}

{% block title %}Tarifs - Taekwonkido Phenix
{% endblock %}

{% block body %}
	<div class="modal" tabindex="-1" role="dialog">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Modal title</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<p>Modal body text goes here.</p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary">Save changes</button>
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
			</div>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="container pb-5 bg-white rounded shadow-sm row">
			<div class="row col-lg-6 col-md-12 col-sm-12 py-5 p-4 ">
				<div class="row col-12">
					<h4>{{event.name}}</h4>
					<input type="text" class="col-12 d-none" id="subscription-id" value="{{subscriptionId}}">
					<input type="text" class="col-12 d-none" id="event-id" value="{{event.id}}">
				</div>
				{# <div class="col-12 card-padding-3">
					<input type="search" class="col-12" id="searchbox" placeholder="Recherchez un membre...">
				</div> #}
				<fieldset>Ajouter un membre à l'événement</fieldset>
                {{ form_start(form) }}
					{% for eventSubscription in form.eventSubscriptions %}
					<div class="card mt-2 mb-4">
						<div class="container box">
							{{ form_row(eventSubscription.member) }}
							{{ form_row(eventSubscription.eventRate) }}
							{{ form_row(eventSubscription.eventOption) }}
							{{ form_row(eventSubscription.submit) }}
						</div>
					</div>
					{% endfor %}
                {{ form_end(form) }}
				<div class="col-12">
					<div class="mt-4">
						<a href="{{ path('order_resume_cb') }}" class="btn btn-dark btn-sm">Payer en CB</a>
						{# <input id="btn-paid-cash-id" class="btn btn-dark btn-sm" type="submit" value="Payer en Espèce"> #}
						<a href="{{path('order_resume_esp',{'id': subscriptionId})}}" id="btn-paid-cash-id" class="btn btn-dark btn-sm">Payer en Espèce</a>
					</div>
				</div>
			</div>
			<div class="row col-lg-6 col-md-12 col-sm-12 py-5 p-4 ">
				<div class="col-12">
					<a href="{{ path('account_member_add') }}" class="btn btn-dark btn-sm">Création d'un membre</a>
					Tarif total: <span id="total-price">0</span>€
				</div>
				
			</div>
		</div>
	</div>

	{{ encore_entry_script_tags('subscription') }}
{% endblock %}


{% block javascripts %}

	<script src="{{ asset('build/bootstrap.min.js') }}"></script>
	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
	<script type="text/javascript">
		$(document).ready(function () {
var max_fields = 10; // maximum input boxes allowed
var wrapper = $(".input_fields_wrap"); // Fields wrapper
var add_button = $(".add_field_button"); // Add button ID

var x = 1; // initlal text box count
$(add_button).click(function (e) { // on add input button click
e.preventDefault();
if (x < max_fields) { // max input box allowed
x++; // text box increment
$(wrapper).append('<div><label class="sr-only" for="inlineFormInputName">Nom Prénom</label><input type="text" name="mytext[]" class="form-control" id="inlineFormInputName"/><a href="#" class="remove_field">Supprimer</a></div>'); // add input box
}
});

$(wrapper).on("click", ".remove_field", function (e) { // user click on remove text
e.preventDefault();
$(this).parent('div').remove();
x--;
})
});
	</script>
{% endblock %}
